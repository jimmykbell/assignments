<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Martial Arts Tournament Data Entry</title>
    <style>
        /* Your existing CSS would go here */
    </style>
</head>
<body>
    <button id="addRingBtn">Add Ring</button>

    <!-- Popup for entering data -->
    <div id="popup" style="display: none;">
        <div class="popup-content">
            <div id="packet-number" class="step" style="display: block;">
                <h2>Enter Packet Number</h2>
                <input type="tel" id="packet-number-input" oninput="packetNumber = this.value;" maxlength="10" placeholder="Enter numeric value">
                <button onclick="nextQuestion()">Next</button>
            </div>
            <div id="champion-rec" class="step" style="display: none;">
                <h2>Champion or Recreational?</h2>
                <button class="question-button" data-value="Champion" onclick="selectChampionRec('Champion')">Champion</button>
                <button class="question-button" data-value="Recreational" onclick="selectChampionRec('Recreational')">Recreational</button>
            </div>
            <div id="rank-group" class="step" style="display: none;">
                <h2>Start Rank</h2>
                <button class="question-button" data-value="White" onclick="selectRank('White')">White</button>
                <button class="question-button" data-value="Orange" onclick="selectRank('Orange')">Orange</button>
                <button class="question-button" data-value="Yellow" onclick="selectRank('Yellow')">Yellow</button>
                <button class="question-button" data-value="Camo" onclick="selectRank('Camo')">Camo</button>
                <button class="question-button" data-value="Green" onclick="selectRank('Green')">Green</button>
                <button class="question-button" data-value="Purple" onclick="selectRank('Purple')">Purple</button>
                <button class="question-button" data-value="Blue" onclick="selectRank('Blue')">Blue</button>
                <button class="question-button" data-value="Brown" onclick="selectRank('Brown')">Brown</button>
                <button class="question-button" data-value="Red" onclick="selectRank('Red')">Red</button>
            </div>
            <div id="end-rank-group" class="step" style="display: none;">
                <h2>End Rank</h2>
                <button class="question-button" data-value="White" onclick="selectEndRank('White')">White</button>
                <button class="question-button" data-value="Orange" onclick="selectEndRank('Orange')">Orange</button>
                <button class="question-button" data-value="Yellow" onclick="selectEndRank('Yellow')">Yellow</button>
                <button class="question-button" data-value="Camo" onclick="selectEndRank('Camo')">Camo</button>
                <button class="question-button" data-value="Green" onclick="selectEndRank('Green')">Green</button>
                <button class="question-button" data-value="Purple" onclick="selectEndRank('Purple')">Purple</button>
                <button class="question-button" data-value="Blue" onclick="selectEndRank('Blue')">Blue</button>
                <button class="question-button" data-value="Brown" onclick="selectEndRank('Brown')">Brown</button>
                <button class="question-button" data-value="Red" onclick="selectEndRank('Red')">Red</button>
            </div>
            <div id="age-group" class="step" style="display: none;">
                <h2>Age Group</h2>
                <button class="question-button" data-value="8 and Under" onclick="selectAgeGroup('8 and Under')">8 and Under</button>
                <button class="question-button" data-value="9-10" onclick="selectAgeGroup('9-10')">9-10</button>
                <button class="question-button" data-value="11-12" onclick="selectAgeGroup('11-12')">11-12</button>
                <button class="question-button" data-value="13-14" onclick="selectAgeGroup('13-14')">13-14</button>
                <button class="question-button" data-value="15-17" onclick="selectAgeGroup('15-17')">15-17</button>
                <button class="question-button" data-value="18-29" onclick="selectAgeGroup('18-29')">18-29</button>
                <button class="question-button" data-value="30-39" onclick="selectAgeGroup('30-39')">30-39</button>
                <button class="question-button" data-value="40-49" onclick="selectAgeGroup('40-49')">40-49</button>
                <button class="question-button" data-value="50-59" onclick="selectAgeGroup('50-59')">50-59</button>
                <button class="question-button" data-value="60+" onclick="selectAgeGroup('60+')">60+</button>
            </div>
            <div id="gender" class="step" style="display: none;">
                <h2>Gender</h2>
                <button class="question-button" data-value="Male" onclick="selectGender('Male')">Male</button>
                <button class="question-button" data-value="Female" onclick="selectGender('Female')">Female</button>
            </div>
            <div id="body-count" class="step" style="display: none;">
                <h2>Body Count</h2>
                <input type="number" id="body-count-input" oninput="selectedBodyCount = this.value;" placeholder="Enter numeric value">
                <button onclick="nextQuestion()">Next</button>
            </div>
            <div id="assigned-ring" class="step" style="display: none;">
                <h2>Assigned Ring</h2>
                <input type="number" id="assigned-ring-input" oninput="selectedRing = this.value;" placeholder="Enter numeric value">
                <button onclick="nextQuestion()">Next</button>
            </div>
            <div id="save-data" class="step" style="display: none;">
                <button onclick="saveData()">Save Data</button>
            </div>
            <button onclick="closePopup()">Close</button>
        </div>
    </div>

    <script>
        // Initialize variables to hold the answers
        let selectedRank = null;
        let selectedEndRank = null;
        let selectedAgeGroup = null;
        let selectedGender = null;
        let selectedBodyCount = null;
        let selectedRing = null;
        let selectedChampionRec = null;
        let packetNumber = null;

        // Handle the progression of questions
        function nextQuestion() {
            let currentStep = document.querySelector('.step:visible');
            let nextStep = currentStep.nextElementSibling;
            if (nextStep) {
                currentStep.style.display = 'none';
                nextStep.style.display = 'block';
            } else {
                saveData(); // Proceed to save data
            }
        }

        // Remove 'active' class from all buttons
        function removeActiveClass() {
            const buttons = document.querySelectorAll('.question-button');
            buttons.forEach(button => {
                button.classList.remove('active');
            });
        }

        // Select Champion or Rec
        function selectChampionRec(value) {
            removeActiveClass();
            selectedChampionRec = value;
            document.querySelector('.question-button[data-value="' + value + '"]').classList.add('active');
            nextQuestion();
        }

        // Select Rank
        function selectRank(value) {
            removeActiveClass();
            selectedRank = value;
            document.querySelector('.question-button[data-value="' + value + '"]').classList.add('active');
        }

        // Select End Rank
        function selectEndRank(value) {
            removeActiveClass();
            selectedEndRank = value;
            document.querySelector('.question-button[data-value="' + value + '"]').classList.add('active');
            nextQuestion();
        }

        // Select Age Group
        function selectAgeGroup(value) {
            removeActiveClass();
            selectedAgeGroup = value;
            document.querySelector('.question-button[data-value="' + value + '"]').classList.add('active');
            nextQuestion();
        }

        // Select Gender
        function selectGender(value) {
            removeActiveClass();
            selectedGender = value;
            document.querySelector('.question-button[data-value="' + value + '"]').classList.add('active');
            nextQuestion();
        }

        // Handle numeric input for body count
        function handleNumericInput(event) {
            const value = event.target.value;
            if (value) {
                nextQuestion();
            }
        }

        // Save the data
        function saveData() {
            console.log('Data saved:', {
                packetNumber,
                selectedChampionRec,
                selectedRank,
                selectedEndRank,
                selectedAgeGroup,
                selectedGender,
                selectedBodyCount,
                selectedRing,
                timestamp: new Date().toISOString()
            });
            alert('Data Saved');
            closePopup();
        }

        // Close popup
        function closePopup() {
            document.getElementById('popup').style.display = 'none';
        }

        // Open the popup
        document.getElementById('addRingBtn').addEventListener('click', function() {
            document.getElementById('popup').style.display = 'flex';
            document.getElementById('packet-number').style.display = 'block';
        });
    </script>
</body>
</html>
